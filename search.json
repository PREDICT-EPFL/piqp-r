[{"path":"/articles/piqp.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1. Introduction","title":"PIQP Solver Interface","text":"PIQP solves quadratic programs form minx12x‚ä§Px+c‚ä§xs.t.Ax=b,hl‚â§Gx‚â§hu,xl‚â§x‚â§xu \\begin{aligned} \\min_{x} \\quad & \\frac{1}{2} x^\\top P x + c^\\top x \\\\ \\text {s.t.}\\quad & Ax=b, \\\\ & h_l \\leq Gx \\leq h_u, \\\\ & x_l \\leq x \\leq x_u \\end{aligned} primal decision variables x‚àà‚Ñùnx \\\\mathbb{R}^n, matrices P‚ààùïä+nP\\\\mathbb{S}_+^n, ‚àà‚Ñùp√ónA \\\\mathbb{R}^{p \\times n}, G‚àà‚Ñùm√ónG \\\\mathbb{R}^{m \\times n}, vectors c‚àà‚Ñùnc \\\\mathbb{R}^n, b‚àà‚Ñùpb \\\\mathbb{R}^p, hl‚àà‚Ñùmh_l \\\\mathbb{R}^m, hu‚àà‚Ñùmh_u \\\\mathbb{R}^m, xl‚àà‚Ñùnx_l \\\\mathbb{R}^n, xu‚àà‚Ñùnx_u \\\\mathbb{R}^n.","code":""},{"path":"/articles/piqp.html","id":"the-problem-solver-interface","dir":"Articles","previous_headings":"","what":"2. The Problem Solver Interface","title":"PIQP Solver Interface","text":"Consider: minx12x‚ä§[6004]x+[‚àí1‚àí4]‚ä§xs.t.[1‚àí2]x=1,[1‚àí120]x‚â§[0.2‚àí1],‚àí1‚â§x1‚â§1. \\begin{aligned} \\min_{x} \\quad & \\frac{1}{2} x^\\top \\begin{bmatrix} 6 & 0 \\\\ 0 & 4 \\end{bmatrix} x + \\begin{bmatrix} -1 \\\\ -4 \\end{bmatrix}^\\top x \\\\ \\text {s.t.}\\quad & \\begin{bmatrix} 1 & -2 \\end{bmatrix} x = 1, \\\\ & \\begin{bmatrix} 1 & -1 \\\\ 2 & 0 \\end{bmatrix} x \\leq \\begin{bmatrix} 0.2 \\\\ -1 \\end{bmatrix}, \\\\ & -1 \\leq x_1 \\leq 1. \\end{aligned} data problem can specified . problem can now solved via call solve_piqp(). sol contains many components str(sol) display important ones : status : 1 goes well (), x : solution vector y : dual solution equality constraints z_l : dual solution lower inequality constraints z_u : dual solution upper inequality constraints z_bl : dual solution lower bound box constraints z_bu : dual solution upper bound box constraints info$status_desc: descriptive string status info$primal_obj : primal objective value info$run_time : total runtime, asked settings (see ). One can always construct descriptive string status using: Note PIQP can handle infinite box constraints well, .e.¬†elements xlx_l xux_u ‚àí‚àû-\\infty ‚àû\\infty, respectively. inequality constraints now support double-sided bounds hl‚â§Gx‚â§huh_l \\leq Gx \\leq h_u. one-sided inequalities Gx‚â§hGx \\leq h, simply pass h_u = h (default h_l -Inf).","code":"P <- matrix(c(6, 0, 0, 4), nrow = 2) c <- c(-1, -4) A <- matrix(c(1, -2), nrow = 1) b <- 1 G <- matrix(c(1, 2, -1, 0), nrow = 2) h_u <- c(0.2, -1) x_l <- c(-1, -Inf)  ## 2 variables x_u <- c(1, Inf)    ## 2 variables sol <- solve_piqp(P, c, A, b, G, h_u = h_u, x_l = x_l, x_u = x_u, backend = \"auto\") cat(sprintf(\"(Solution status, description): = (%d, %s)\\n\",             sol$status, sol$info$status_desc)) #> (Solution status, description): = (1, solved) cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\", sol$info$primal_obj, sol$x[1], sol$x[2])) #> Objective: 6.160000, solution: (x1, x2) = (-0.600000, -0.800000) status_description(sol$status) #> [1] \"Solver solved problem up to given tolerance.\""},{"path":"/articles/piqp.html","id":"the-solver-model-object","dir":"Articles","previous_headings":"","what":"3. The Solver Model Object","title":"PIQP Solver Interface","text":"Users wish solve QP problems mostly use solve_piqp() function. Behind scenes, solve_piqp() creates solver object calls methods object obtain solution. solver object can created explicitly using piqp() provides elaborate facilities updating problem data warm-starting subsequent solves, can efficient one solving sequence related problems. problem solved using solver model object thus: Indeed, exactly solve_piqp() . generic functions solve(), update(), get_settings(), get_dims(), update_settings() available model object.","code":"model <- piqp(P, c, A, b, G, h_u = h_u, x_l = x_l, x_u = x_u) sol2 <- solve(model) identical(sol, sol2) #> [1] FALSE get_dims(model) #> $n #> [1] 2 #>  #> $p #> [1] 1 #>  #> $m #> [1] 2"},{"path":"/articles/piqp.html","id":"updating-problem-data-and-re-solving","dir":"Articles","previous_headings":"3. The Solver Model Object","what":"Updating problem data and re-solving","title":"PIQP Solver Interface","text":"real advantage model object ability update problem data re-solve. update() called, changed data passed solver, solver can warm-start previous solution. much efficient creating new model scratch time. Suppose want tighten inequality bounds change linear cost. update model place re-solve: can continue updating. relax variable bounds change equality constraint: Dimension mismatches caught: Settings can also updated solves:","code":"update(model, c = c(-2, -3), h_u = c(0.1, -1.5)) sol3 <- solve(model) cat(sprintf(\"Status: %s\\n\", sol3$info$status_desc)) #> Status: solved cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\",             sol3$info$primal_obj, sol3$x[1], sol3$x[2])) #> Objective: 7.840000, solution: (x1, x2) = (-0.800000, -0.900000) update(model, A = matrix(c(1, -1), nrow = 1), b = 0,        x_l = c(-2, -2), x_u = c(2, 2)) sol4 <- solve(model) cat(sprintf(\"Status: %s\\n\", sol4$info$status_desc)) #> Status: solved cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\",             sol4$info$primal_obj, sol4$x[1], sol4$x[2])) #> Objective: 6.562500, solution: (x1, x2) = (-0.750000, -0.750000) update(model, b = c(5, 2)) #> Error in `update.piqp::piqp_model`: #> ! Update parameters do not match original problem dimensions update_settings(model, new_settings = list(verbose = FALSE, max_iter = 100L))"},{"path":"/articles/piqp.html","id":"dense-and-sparse-interfaces","dir":"Articles","previous_headings":"","what":"4. Dense and Sparse Interfaces","title":"PIQP Solver Interface","text":"PIQP supports dense sparse problem formulations. small dense problems dense interface preferred since vectorized instructions cache locality can exploited efficiently, sparse problems sparse interface result significant speedups. Either interface can requested explicitly via backend parameter can take value among \"dense\", \"sparse\", \"auto\", default. last value automatically switch sparse interface supplied inputs (AA, PP, GG) sparse matrix; otherwise uses dense interface.","code":"sparse_sol <- solve_piqp(P, c, A, b, G, h_u = h_u, x_l = x_l, x_u = x_u, backend = \"sparse\") str(sparse_sol) #> List of 12 #>  $ status: int 1 #>  $ x     : num [1:2] -0.6 -0.8 #>  $ y     : num -11.8 #>  $ z_l   : num [1:2] 0 0 #>  $ z_u   : num [1:2] 1.64e+01 8.96e-11 #>  $ z_bl  : num [1:2] 2.18e-10 0.00 #>  $ z_bu  : num [1:2] 1.55e-12 0.00 #>  $ s_l   : num [1:2] 1e+30 1e+30 #>  $ s_u   : num [1:2] 5.67e-12 2.00e-01 #>  $ s_bl  : num [1:2] 4e-01 1e+30 #>  $ s_bu  : num [1:2] 1.6 1.0e+30 #>  $ info  :List of 32 #>   ..$ status_desc       : chr \"solved\" #>   ..$ iter              : num 7 #>   ..$ rho               : num 1e-10 #>   ..$ delta             : num 1e-10 #>   ..$ mu                : num 5.02e-11 #>   ..$ sigma             : num 1e-06 #>   ..$ primal_step       : num 0.99 #>   ..$ dual_step         : num 0.99 #>   ..$ primal_res        : num 3.13e-13 #>   ..$ primal_res_rel    : num 1.96e-13 #>   ..$ dual_res          : num 1.5e-10 #>   ..$ dual_res_rel      : num 2.08e-11 #>   ..$ primal_res_reg    : num 3.13e-11 #>   ..$ primal_res_reg_rel: num 1.96e-11 #>   ..$ dual_res_reg      : num 1.5e-08 #>   ..$ dual_res_reg_rel  : num 2.08e-09 #>   ..$ primal_prox_inf   : num 0 #>   ..$ dual_prox_inf     : num 0 #>   ..$ primal_obj        : num 6.16 #>   ..$ dual_obj          : num 6.16 #>   ..$ duality_gap       : num 3.27e-10 #>   ..$ duality_gap_rel   : num 2.77e-11 #>   ..$ factor_retires    : num 0 #>   ..$ reg_limit         : num 1e-10 #>   ..$ no_primal_update  : num 1 #>   ..$ no_dual_update    : num 0 #>   ..$ setup_time        : num 0 #>   ..$ update_time       : num 0 #>   ..$ solve_time        : num 0 #>   ..$ kkt_factor_time   : num 0 #>   ..$ kkt_solve_time    : num 1479 #>   ..$ run_time          : num 0"},{"path":"/articles/piqp.html","id":"another-example","dir":"Articles","previous_headings":"","what":"5. Another Example","title":"PIQP Solver Interface","text":"Suppose want solve following 2-dimensional quadratic programming problem: minimize3x12+2x22‚àíx1‚àí4x2subject ‚àí1‚â§x‚â§1,x1=2x2 \\begin{array}{ll} \\text{minimize} &  3x_1^2 + 2x_2^2 - x_1 - 4x_2\\\\ \\text{subject } &  -1 \\leq x \\leq 1, ~ x_1 = 2x_2 \\end{array} Since solver expects objective form 12x‚ä§Px+c‚ä§x\\frac{1}{2}x^\\top P x + c^\\top x, define P=2‚ãÖ[3002] q=[‚àí1‚àí4]. P = 2 \\cdot \\begin{bmatrix} 3 & 0 \\\\ 0 & 2\\end{bmatrix} \\mbox{ } q = \\begin{bmatrix} -1 \\\\ -4\\end{bmatrix}. one equality constraint box constraints. leads following straight-forward formulation. can also choose move upper box constraints inequalities. can move inequalities. yield result.","code":"P <- matrix(2 * c(3, 0, 0, 2), nrow = 2, ncol = 2) c <- c(-1, -4) A <- matrix(c(1, -2), ncol = 2) b <- 0 x_l <- rep(-1.0, 2) x_u <- rep(1.0, 2) sol <- solve_piqp(P = P, c = c, A = A, b = b, x_l = x_l, x_u = x_u) cat(sprintf(\"(Solution status, description): = (%d, %s)\\n\",             sol$status, sol$info$status_desc)) #> (Solution status, description): = (1, solved) cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\", sol$info$primal_obj, sol$x[1], sol$x[2])) #> Objective: -0.642857, solution: (x1, x2) = (0.428571, 0.214286) G <- diag(2) h_u <- c(1, 1) sol <- solve_piqp(P = P, c = c, A = A, b = b, G = G, h_u = h_u,                   x_l = c(-1, -1), x_u = c(Inf, Inf)) cat(sprintf(\"(Solution status, description): = (%d, %s)\\n\",             sol$status, sol$info$status_desc)) #> (Solution status, description): = (1, solved) cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\", sol$info$primal_obj, sol$x[1], sol$x[2])) #> Objective: -0.642857, solution: (x1, x2) = (0.428571, 0.214286) G <- Matrix::Matrix(c(1, 0, -1, 0, 0, 1, 0, -1), byrow = TRUE,                     nrow = 4, sparse = TRUE) h_u <- rep(1, 4)  sol <- solve_piqp(A = A, b = b, c = c, P = P, G = G, h_u = h_u) cat(sprintf(\"(Solution status, description): = (%d, %s)\\n\",             sol$status, status_description(sol$status))) #> (Solution status, description): = (1, Solver solved problem up to given tolerance.) cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\", sol$info$primal_obj, sol$x[1], sol$x[2])) #> Objective: -0.642857, solution: (x1, x2) = (0.428571, 0.214286)"},{"path":"/articles/piqp.html","id":"solver-parameters","dir":"Articles","previous_headings":"","what":"6. Solver parameters","title":"PIQP Solver Interface","text":"PIQP number parameters control behavior, including verbosity, tolerances, etc.; see help piqp_settings(). example, last problem, can reduce number iterations. Note different status, always checked code.","code":"s <- solve_piqp(P = P, c = c, A = A, b = b, G = G, h_u = h_u,           settings = list(max_iter = 3)) ## Reduced number of iterations cat(sprintf(\"(Solution status, description): = (%d, %s)\\n\",             s$status, s$info$status_desc)) #> (Solution status, description): = (-1, max iterations reached) cat(sprintf(\"Objective: %f, solution: (x1, x2) = (%f, %f)\\n\", s$info$primal_obj, s$x[1], s$x[2])) #> Objective: -0.642857, solution: (x1, x2) = (0.428564, 0.214282)"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Balasubramanian Narasimhan. Author, maintainer. Roland Schwan. Author, copyright holder. Yuning Jiang. Author. Daniel Kuhn. Author. Colin N. Jones. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Schwan R, Jiang Y, Kuhn D, Jones C (2023). ‚ÄúPIQP: Proximal Interior-Point Quadratic Programming Solver.‚Äù doi:10.48550/arXiv.2304.00290. Narasimhan B, Schwan R, Jiang Y, Kuhn D, Jones C (2023). ‚Äúpiqp: R Interface Proximal Interior Point Quadratic Programming Solver.‚Äù","code":"@Misc{,   title = {PIQP: A Proximal Interior-Point Quadratic Programming Solver},   author = {Roland Schwan and Yuning Jiang and Daniel Kuhn and Colin N. Jones},   year = {2023},   doi = {10.48550/arXiv.2304.00290}, } @Misc{,   title = {piqp: R Interface to Proximal Interior Point Quadratic Programming Solver},   author = {Balasubramanian Narasimhan and Roland Schwan and Yuning Jiang and Daniel Kuhn and Colin N. Jones},   year = {2023}, }"},{"path":"/index.html","id":"r-interface-for-piqp-","dir":"","previous_headings":"","what":"R Interface to Proximal Interior Point Quadratic Programming Solver","title":"R Interface to Proximal Interior Point Quadratic Programming Solver","text":"R interface PIQP Proximal Interior Point Quadratic Programming solver. package/interface partly based osqp-r. Stable versions can installed CRAN usual. Development versions repo can installed via:","code":"## Install remotes packages if not available if (! \"remotes\" %in% installed.packages()[, 1] ) {     install.packages(\"remotes\", repository = \"https://cran.r-project.org\") } remotes::install_github(\"PREDICT-EPFL/piqp-r\")"},{"path":"/reference/get_dims.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dimensions of a PIQP model ‚Äî get_dims","title":"Get dimensions of a PIQP model ‚Äî get_dims","text":"Get dimensions PIQP model","code":""},{"path":"/reference/get_dims.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dimensions of a PIQP model ‚Äî get_dims","text":"","code":"get_dims(model, ...)"},{"path":"/reference/get_dims.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get dimensions of a PIQP model ‚Äî get_dims","text":"model piqp_model object ... used","code":""},{"path":"/reference/get_dims.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dimensions of a PIQP model ‚Äî get_dims","text":"list named elements n, p, m","code":""},{"path":"/reference/get_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Get settings of a PIQP model ‚Äî get_settings","title":"Get settings of a PIQP model ‚Äî get_settings","text":"Get settings PIQP model","code":""},{"path":"/reference/get_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get settings of a PIQP model ‚Äî get_settings","text":"","code":"get_settings(model, ...)"},{"path":"/reference/get_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get settings of a PIQP model ‚Äî get_settings","text":"model piqp_model object ... used","code":""},{"path":"/reference/get_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get settings of a PIQP model ‚Äî get_settings","text":"list current settings","code":""},{"path":"/reference/make_csc_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a plain matrix or simple triplet form matrix to a Matrix::dgCMatrix (implicit) form ‚Äî make_csc_matrix","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dgCMatrix (implicit) form ‚Äî make_csc_matrix","text":"Convert plain matrix simple triplet form matrix Matrix::dgCMatrix (implicit) form","code":""},{"path":"/reference/make_csc_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dgCMatrix (implicit) form ‚Äî make_csc_matrix","text":"","code":"make_csc_matrix(x)"},{"path":"/reference/make_csc_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dgCMatrix (implicit) form ‚Äî make_csc_matrix","text":"x matrix simple triplet form matrix","code":""},{"path":"/reference/make_csc_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dgCMatrix (implicit) form ‚Äî make_csc_matrix","text":"list row pointer, column pointer, values corresponding Matrix::dgCMatrix object","code":""},{"path":"/reference/make_csc_symm_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a plain matrix or simple triplet form matrix to a Matrix::dsCMatrix (implicit, upper) form ‚Äî make_csc_symm_matrix","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dsCMatrix (implicit, upper) form ‚Äî make_csc_symm_matrix","text":"Convert plain matrix simple triplet form matrix Matrix::dsCMatrix (implicit, upper) form","code":""},{"path":"/reference/make_csc_symm_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dsCMatrix (implicit, upper) form ‚Äî make_csc_symm_matrix","text":"","code":"make_csc_symm_matrix(m)"},{"path":"/reference/make_csc_symm_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dsCMatrix (implicit, upper) form ‚Äî make_csc_symm_matrix","text":"m matrix simple triplet form matrix","code":""},{"path":"/reference/make_csc_symm_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a plain matrix or simple triplet form matrix to a Matrix::dsCMatrix (implicit, upper) form ‚Äî make_csc_symm_matrix","text":"list row pointer, column pointer, values corresponding Matrix::dsCMatrix object","code":""},{"path":"/reference/piqp-package.html","id":null,"dir":"Reference","previous_headings":"","what":"R Interface to PIQP Solver ‚Äî piqp-package","title":"R Interface to PIQP Solver ‚Äî piqp-package","text":"PIQP Proximal Interior Point Quadratic Programming solver, can solve dense sparse quadratic programs described described Schwan, Jiang, Kuhn, Jones (2023) (https://arxiv.org/abs/2304.00290). Combining infeasible interior point method proximal method multipliers, algorithm can handle ill-conditioned convex QP problems without need linear independence constraints. solver written header 'C++ 14' leveraging Eigen library vectorized linear algebra. small dense problems, vectorized instructions cache locality can exploited efficiently. Allocation free problem updates re-solves also provided.","code":""},{"path":[]},{"path":"/reference/piqp-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"R Interface to PIQP Solver ‚Äî piqp-package","text":"Balasubramanian Narasimhan, Roland Schwan (C), Yuning Jiang, Daniel Kuhn, Colin N. Jones","code":""},{"path":"/reference/piqp.html","id":null,"dir":"Reference","previous_headings":"","what":"PIQP Solver object ‚Äî piqp","title":"PIQP Solver object ‚Äî piqp","text":"PIQP Solver object","code":""},{"path":"/reference/piqp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PIQP Solver object ‚Äî piqp","text":"","code":"piqp(   P = NULL,   c = NULL,   A = NULL,   b = NULL,   G = NULL,   h_l = NULL,   h_u = NULL,   x_l = NULL,   x_u = NULL,   settings = list(),   backend = c(\"auto\", \"sparse\", \"dense\") )"},{"path":"/reference/piqp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PIQP Solver object ‚Äî piqp","text":"P dense sparse matrix class dgCMatrix coercible , must positive semidefinite c numeric vector dense sparse matrix class dgCMatrix coercible b numeric vector G dense sparse matrix class dgCMatrix coercible h_l numeric vector lower inequality bounds, default NULL indicating -Inf inequality constraints h_u numeric vector upper inequality bounds, default NULL indicating Inf inequality constraints x_l numeric vector lower variable bounds, default NULL indicating -Inf variables x_u numeric vector upper variable bounds, default NULL indicating Inf variables settings list optimization parameters, empty default; see piqp_settings() comprehensive list parameters may used backend backend use, auto P, G sparse sparse backend used (\"auto\", \"sparse\" \"dense\") (\"auto\")","code":""},{"path":"/reference/piqp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PIQP Solver object ‚Äî piqp","text":"S7 object class \"piqp_model\" methods solve(), update(), get_settings(), get_dims(), update_settings() can used solve problem updated settings / parameters.","code":""},{"path":"/reference/piqp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"PIQP Solver object ‚Äî piqp","text":"Allows one solve parametric problem example warm starts updates parameter, c.f. examples. object returned piqp contains several methods can used either update/get details problem, modify optimization settings attempt solve problem.","code":""},{"path":"/reference/piqp.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PIQP Solver object ‚Äî piqp","text":"","code":"model = piqp(P = NULL, c = NULL, A = NULL, b = NULL, G = NULL,              h_l = NULL, h_u = NULL, x_l = NULL, x_u = NULL,              settings = piqp_settings(),              backend = c(\"auto\", \"sparse\", \"dense\"))  solve(model) update(model, P = NULL, c = NULL, A = NULL, b = NULL, G = NULL,        h_l = NULL, h_u = NULL, x_l = NULL, x_u = NULL) get_settings(model) get_dims(model) update_settings(model, new_settings = piqp_settings())"},{"path":[]},{"path":"/reference/piqp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"PIQP Solver object ‚Äî piqp","text":"","code":"## example, adapted from PIQP documentation library(piqp) library(Matrix)  P <- Matrix(c(6., 0.,               0., 4.), 2, 2, sparse = TRUE) c <- c(-1., -4.) A <- Matrix(c(1., -2.), 1, 2, sparse = TRUE) b <- c(1.) G <- Matrix(c(1., 2., -1., 0.), 2, 2, sparse = TRUE) h_u <- c(0.2, -1.) x_l <- c(-1., -Inf) x_u <- c(1., Inf)  settings <- list(verbose = TRUE)  model <- piqp(P, c, A, b, G, h_u = h_u, x_l = x_l, x_u = x_u, settings = settings)  # Solve res <- solve(model) #> ---------------------------------------------------------- #>                         PIQP v0.6.2                        #>                     (c) Roland Schwan                      #>    Ecole Polytechnique Federale de Lausanne (EPFL) 2025    #> ---------------------------------------------------------- #> sparse backend (sparse_ldlt) #> variables n = 2, nzz(P upper triangular) = 2 #> equality constraints p = 1, nnz(A) = 2 #> inequality constraints m = 2, nnz(G) = 3 #> inequality lower bounds n_h_l = 0 #> inequality upper bounds n_h_u = 2 #> variable lower bounds n_x_l = 1 #> variable upper bounds n_x_u = 1 #>  #> iter  prim_obj       dual_obj       duality_gap   prim_res      dual_res      rho         delta       mu          p_step   d_step #>   0    2.43682e+00    3.58907e+00   1.15226e+00   1.32082e+00   1.70871e+00   1.000e-06   1.000e-04   5.720e-01   0.0000   0.0000 #>   1    5.07849e+00    5.73194e+00   6.53446e-01   1.70329e-01   4.06583e-01   1.742e-07   1.742e-05   9.965e-02   0.8711   0.9900 #>   2    7.11263e+00    5.32500e+00   1.78763e+00   1.57002e-03   8.11342e-01   1.742e-07   1.742e-05   2.475e-01   0.9900   0.2596 #>   3    6.16885e+00    6.13621e+00   3.26450e-02   3.14042e-05   1.49577e-02   3.525e-09   3.525e-07   5.007e-03   0.9798   0.9900 #>   4    6.16009e+00    6.15976e+00   3.26769e-04   3.12909e-07   1.49770e-04   1.000e-10   3.532e-09   5.017e-05   0.9900   0.9900 #>   5    6.16000e+00    6.16000e+00   3.26788e-06   3.12888e-09   1.49770e-06   1.000e-10   1.000e-10   5.018e-07   0.9900   0.9900 #>   6    6.16000e+00    6.16000e+00   3.26811e-08   3.12887e-11   1.49772e-08   1.000e-10   1.000e-10   5.018e-09   0.9900   0.9900 #>   7    6.16000e+00    6.16000e+00   3.26834e-10   3.12894e-13   1.49769e-10   1.000e-10   1.000e-10   5.019e-11   0.9900   0.9900 #>  #> status:               solved #> number of iterations: 7 #> objective:            6.16000e+00 res$x #> [1] -0.6 -0.8  # Define new data A_new <- Matrix(c(1., -3.), 1, 2, sparse = TRUE) h_u_new <- c(2., 1.)  # Update model and solve again update(model, A = A_new, h_u = h_u_new) res <- solve(model) #> ---------------------------------------------------------- #>                         PIQP v0.6.2                        #>                     (c) Roland Schwan                      #>    Ecole Polytechnique Federale de Lausanne (EPFL) 2025    #> ---------------------------------------------------------- #> sparse backend (sparse_ldlt) #> variables n = 2, nzz(P upper triangular) = 2 #> equality constraints p = 1, nnz(A) = 2 #> inequality constraints m = 2, nnz(G) = 3 #> inequality lower bounds n_h_l = 0 #> inequality upper bounds n_h_u = 2 #> variable lower bounds n_x_l = 1 #> variable upper bounds n_x_u = 1 #>  #> iter  prim_obj       dual_obj       duality_gap   prim_res      dual_res      rho         delta       mu          p_step   d_step #>   0    9.62415e-01   -6.12801e+00   7.09042e+00   8.40969e-01   6.43826e+00   1.000e-06   1.000e-04   1.335e+00   0.0000   0.0000 #>   1    1.02833e+00    6.48681e-01   3.79652e-01   8.35468e-03   6.43824e-02   6.611e-08   6.611e-06   8.829e-02   0.9900   0.9900 #>   2    9.61964e-01    9.27375e-01   3.45892e-02   8.21710e-05   6.43834e-04   6.412e-09   6.412e-07   8.564e-03   0.9900   0.9900 #>   3    9.56984e-01    9.54235e-01   2.74850e-03   7.75763e-07   6.43863e-06   5.138e-10   5.138e-08   6.862e-04   0.9900   0.9900 #>   4    9.56897e-01    9.56851e-01   4.56059e-05   7.19600e-09   6.43910e-08   1.000e-10   8.530e-10   1.139e-05   0.9900   0.9900 #>   5    9.56897e-01    9.56896e-01   4.55719e-07   7.17878e-11   6.91138e-10   1.000e-10   1.000e-10   1.138e-07   0.9900   0.9900 #>   6    9.56897e-01    9.56897e-01   4.55695e-09   7.17624e-13   5.19122e-12   1.000e-10   1.000e-10   1.138e-09   0.9900   0.9900 #>  #> status:               solved #> number of iterations: 6 #> objective:            9.56897e-01 res$x #> [1]  0.4310345 -0.1896552"},{"path":"/reference/piqp_model.html","id":null,"dir":"Reference","previous_headings":"","what":"The PIQP Solver Model Class ‚Äî piqp_model","title":"The PIQP Solver Model Class ‚Äî piqp_model","text":"S7 class wrapping PIQP C++ Solver. Users never need directly create instances class use user-friendly functions piqp() solve_piqp().","code":""},{"path":"/reference/piqp_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The PIQP Solver Model Class ‚Äî piqp_model","text":"","code":"piqp_model(solver_ptr = NULL, dims = list(), dense_backend = logical(0))"},{"path":"/reference/piqp_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The PIQP Solver Model Class ‚Äî piqp_model","text":"solver_ptr external pointer C++ solver object dims named list elements n, p, m dense_backend logical flag indicating dense solver used","code":""},{"path":"/reference/piqp_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Settings parameters with default values and types in parenthesis ‚Äî piqp_settings","title":"Settings parameters with default values and types in parenthesis ‚Äî piqp_settings","text":"Settings parameters default values types parenthesis","code":""},{"path":"/reference/piqp_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Settings parameters with default values and types in parenthesis ‚Äî piqp_settings","text":"","code":"piqp_settings(   rho_init = 1e-06,   delta_init = 1e-04,   eps_abs = 1e-08,   eps_rel = 1e-09,   check_duality_gap = TRUE,   eps_duality_gap_abs = 1e-08,   eps_duality_gap_rel = 1e-09,   infeasibility_threshold = 0.9,   reg_lower_limit = 1e-10,   reg_finetune_lower_limit = 1e-13,   reg_finetune_primal_update_threshold = 7L,   reg_finetune_dual_update_threshold = 7L,   max_iter = 250L,   max_factor_retires = 10L,   preconditioner_scale_cost = FALSE,   preconditioner_reuse_on_update = FALSE,   preconditioner_iter = 10L,   tau = 0.99,   iterative_refinement_always_enabled = FALSE,   iterative_refinement_eps_abs = 1e-12,   iterative_refinement_eps_rel = 1e-12,   iterative_refinement_max_iter = 10L,   iterative_refinement_min_improvement_rate = 5,   iterative_refinement_static_regularization_eps = 1e-08,   iterative_refinement_static_regularization_rel = .Machine$double.eps^2,   verbose = FALSE,   compute_timings = FALSE )"},{"path":"/reference/piqp_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Settings parameters with default values and types in parenthesis ‚Äî piqp_settings","text":"rho_init Initial value primal proximal penalty parameter rho (default = 1e-6) delta_init Initial value augmented lagrangian penalty parameter delta (default = 1e-4) eps_abs Absolute tolerance (default = 1e-8) eps_rel Relative tolerance (default = 1e-9) check_duality_gap Check terminal criterion duality gap (default = TRUE) eps_duality_gap_abs Absolute tolerance duality gap (default = 1e-8) eps_duality_gap_rel Relative tolerance duality gap (default = 1e-9) infeasibility_threshold Threshold infeasibility detection (default = 0.9) reg_lower_limit Lower limit regularization (default = 1e-10) reg_finetune_lower_limit Fine tune lower limit regularization (default = 1e-13) reg_finetune_primal_update_threshold Threshold number primal updates transition fine tune mode (default = 7) reg_finetune_dual_update_threshold Threshold number dual updates transition fine tune mode (default = 7) max_iter Maximum number iterations (default = 250) max_factor_retires Maximum number factorization retires failure (default = 10) preconditioner_scale_cost Scale cost Ruiz preconditioner (default = FALSE) preconditioner_reuse_on_update Reuse preconditioner problem update (default = FALSE) preconditioner_iter Maximum preconditioner iterations (default = 10) tau Maximum interior point step length (default = 0.99) iterative_refinement_always_enabled Always run iterative refinement factorization failure (default = FALSE) iterative_refinement_eps_abs Iterative refinement absolute tolerance (default = 1e-12) iterative_refinement_eps_rel Iterative refinement relative tolerance (default = 1e-12) iterative_refinement_max_iter Maximum number iterations iterative refinement (default = 10) iterative_refinement_min_improvement_rate Minimum improvement rate iterative refinement (default = 5.0) iterative_refinement_static_regularization_eps Static regularization KKT system iterative refinement (default = 1e-8) iterative_refinement_static_regularization_rel Static regularization w.r.t. maximum abs diagonal term KKT system. (default = .Machine$double.eps^2) verbose Verbose printing (default = FALSE) compute_timings Measure timing information internally (default = FALSE)","code":""},{"path":"/reference/piqp_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Settings parameters with default values and types in parenthesis ‚Äî piqp_settings","text":"list containing settings parameters.","code":""},{"path":"/reference/solve_piqp.html","id":null,"dir":"Reference","previous_headings":"","what":"PIQP Solver ‚Äî solve_piqp","title":"PIQP Solver ‚Äî solve_piqp","text":"Solves $$arg\\min_x 0.5 x'P x + c'x$$ s.t. $$x = b$$ $$h_l \\leq G x \\leq h_u$$ $$x_l \\leq x \\leq x_u$$ real matrices P (nxn, positive semidefinite), (pxn) p number equality constraints, G (mxn) m number inequality constraints","code":""},{"path":"/reference/solve_piqp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PIQP Solver ‚Äî solve_piqp","text":"","code":"solve_piqp(   P = NULL,   c = NULL,   A = NULL,   b = NULL,   G = NULL,   h_l = NULL,   h_u = NULL,   x_l = NULL,   x_u = NULL,   settings = list(),   backend = c(\"auto\", \"sparse\", \"dense\") )"},{"path":"/reference/solve_piqp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PIQP Solver ‚Äî solve_piqp","text":"P dense sparse matrix class dgCMatrix coercible , must positive semidefinite c numeric vector dense sparse matrix class dgCMatrix coercible b numeric vector G dense sparse matrix class dgCMatrix coercible h_l numeric vector lower inequality bounds, default NULL indicating -Inf inequality constraints h_u numeric vector upper inequality bounds, default NULL indicating Inf inequality constraints x_l numeric vector lower variable bounds, default NULL indicating -Inf variables x_u numeric vector upper variable bounds, default NULL indicating Inf variables settings list optimization parameters, empty default; see piqp_settings() comprehensive list parameters may used backend backend use, auto P, G sparse sparse backend used (\"auto\", \"sparse\" \"dense\") (\"auto\")","code":""},{"path":"/reference/solve_piqp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PIQP Solver ‚Äî solve_piqp","text":"list elements solution elements","code":""},{"path":"/reference/solve_piqp.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"PIQP Solver ‚Äî solve_piqp","text":"Schwan, R., Jiang, Y., Kuhn, D., Jones, C.N. (2023). ‚ÄúPIQP: Proximal Interior-Point Quadratic Programming Solver.‚Äù doi:10.48550/arXiv.2304.00290","code":""},{"path":[]},{"path":"/reference/solve_piqp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"PIQP Solver ‚Äî solve_piqp","text":"","code":"## example, adapted from PIQP documentation library(piqp) library(Matrix)  P <- Matrix(c(6., 0.,               0., 4.), 2, 2, sparse = TRUE) c <- c(-1., -4.) A <- Matrix(c(1., -2.), 1, 2, sparse = TRUE) b <- c(1.) G <- Matrix(c(1., 2., -1., 0.), 2, 2, sparse = TRUE) h_u <- c(0.2, -1.) x_l <- c(-1., -Inf) x_u <- c(1., Inf)  settings <- list(verbose = TRUE)  # Solve with PIQP res <- solve_piqp(P, c, A, b, G, h_u = h_u, x_l = x_l, x_u = x_u, settings = settings) #> ---------------------------------------------------------- #>                         PIQP v0.6.2                        #>                     (c) Roland Schwan                      #>    Ecole Polytechnique Federale de Lausanne (EPFL) 2025    #> ---------------------------------------------------------- #> sparse backend (sparse_ldlt) #> variables n = 2, nzz(P upper triangular) = 2 #> equality constraints p = 1, nnz(A) = 2 #> inequality constraints m = 2, nnz(G) = 3 #> inequality lower bounds n_h_l = 0 #> inequality upper bounds n_h_u = 2 #> variable lower bounds n_x_l = 1 #> variable upper bounds n_x_u = 1 #>  #> iter  prim_obj       dual_obj       duality_gap   prim_res      dual_res      rho         delta       mu          p_step   d_step #>   0    2.43682e+00    3.58907e+00   1.15226e+00   1.32082e+00   1.70871e+00   1.000e-06   1.000e-04   5.720e-01   0.0000   0.0000 #>   1    5.07849e+00    5.73194e+00   6.53446e-01   1.70329e-01   4.06583e-01   1.742e-07   1.742e-05   9.965e-02   0.8711   0.9900 #>   2    7.11263e+00    5.32500e+00   1.78763e+00   1.57002e-03   8.11342e-01   1.742e-07   1.742e-05   2.475e-01   0.9900   0.2596 #>   3    6.16885e+00    6.13621e+00   3.26450e-02   3.14042e-05   1.49577e-02   3.525e-09   3.525e-07   5.007e-03   0.9798   0.9900 #>   4    6.16009e+00    6.15976e+00   3.26769e-04   3.12909e-07   1.49770e-04   1.000e-10   3.532e-09   5.017e-05   0.9900   0.9900 #>   5    6.16000e+00    6.16000e+00   3.26788e-06   3.12888e-09   1.49770e-06   1.000e-10   1.000e-10   5.018e-07   0.9900   0.9900 #>   6    6.16000e+00    6.16000e+00   3.26811e-08   3.12887e-11   1.49772e-08   1.000e-10   1.000e-10   5.018e-09   0.9900   0.9900 #>   7    6.16000e+00    6.16000e+00   3.26834e-10   3.12894e-13   1.49769e-10   1.000e-10   1.000e-10   5.019e-11   0.9900   0.9900 #>  #> status:               solved #> number of iterations: 7 #> objective:            6.16000e+00 res$x #> [1] -0.6 -0.8"},{"path":"/reference/status_description.html","id":null,"dir":"Reference","previous_headings":"","what":"Return the solver status description string ‚Äî status_description","title":"Return the solver status description string ‚Äî status_description","text":"Return solver status description string","code":""},{"path":"/reference/status_description.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return the solver status description string ‚Äî status_description","text":"","code":"status_description(code)"},{"path":"/reference/status_description.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return the solver status description string ‚Äî status_description","text":"code valid solver return code","code":""},{"path":"/reference/status_description.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return the solver status description string ‚Äî status_description","text":"status description string","code":""},{"path":"/reference/status_description.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return the solver status description string ‚Äî status_description","text":"","code":"status_description(1) ## for solved problem #> [1] \"Solver solved problem up to given tolerance.\" status_description(-1) ## for max iterations limit reached #> [1] \"Iteration limit was reached.\""},{"path":"/reference/update_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Update settings of a PIQP model ‚Äî update_settings","title":"Update settings of a PIQP model ‚Äî update_settings","text":"Update settings PIQP model","code":""},{"path":"/reference/update_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update settings of a PIQP model ‚Äî update_settings","text":"","code":"update_settings(model, ...)"},{"path":"/reference/update_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update settings of a PIQP model ‚Äî update_settings","text":"model piqp_model object ... used","code":""},{"path":"/reference/update_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update settings of a PIQP model ‚Äî update_settings","text":"invisible NULL","code":""},{"path":"/news/index.html","id":"piqp-062","dir":"Changelog","previous_headings":"","what":"piqp 0.6.2","title":"piqp 0.6.2","text":"CRAN release: 2026-02-18 Update v0.6.2 underlying PIQP library Migrate R6 S7 OOP system Inequality constraints now double-sided: h_l <= Gx <= h_u Variable bounds renamed: x_lb/x_ub x_l/x_u Result fields renamed: z z_l/z_u, z_lb/z_ub z_bl/z_bu, s s_l/s_u, s_lb/s_ub s_bl/s_bu Info fields renamed: primal_inf primal_res, dual_inf dual_res New settings: infeasibility_threshold, preconditioner_reuse_on_update Use generic functions solve(), update(), get_settings(), get_dims(), update_settings() instead R6 methods Support problem data updates warm starts via update()","code":""},{"path":"/news/index.html","id":"piqp-031","dir":"Changelog","previous_headings":"","what":"piqp 0.3.1","title":"piqp 0.3.1","text":"Update v0.3.1 underlying PIQP library","code":""},{"path":"/news/index.html","id":"piqp-022","dir":"Changelog","previous_headings":"","what":"piqp 0.2.2","title":"piqp 0.2.2","text":"CRAN release: 2023-08-14 First CRAN release","code":""}]
